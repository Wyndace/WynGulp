// === Favicon Task ==================================================================================================================================================================================================================================================

// ==== Plugins ====================================================================================================================================================================================================================================================

import realFavicon from "gulp-real-favicon";

import fs from "fs";

// =================================================================================================================================================================================================================================================================

// ==== Configs ====================================================================================================================================================================================================================================================

import path from "../config/path.js"
import settings from "../config/settings.js"

// =================================================================================================================================================================================================================================================================

// ==== Favicon creating ===========================================================================================================================================================================================================================================

const faviconTask = (done) => {
    if (!fs.existsSync(path.root)) fs.mkdirSync(path.root);
    if (!fs.existsSync(path.favicon.dest)) fs.mkdirSync(path.favicon.dest);
    fs.readdir(path.favicon.dest, (err, favicons) => {
        if (!favicons.length) realFavicon.generateFavicon(settings.favicon, () => {done();});
        else done();
    });
    return path.src
}
// =================================================================================================================================================================================================================================================================

// ==== Exporting Task =============================================================================================================================================================================================================================================

export default faviconTask;

// =================================================================================================================================================================================================================================================================

// =================================================================================================================================================================================================================================================================